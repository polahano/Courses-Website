<div class="carousel-container">
  <div class="carousel-wrapper">
    <div
      class="carousel-track"
      [style.transform]="'translateX(' + translateX + 'px)'"
      (touchstart)="onTouchStart($event)"
      (touchmove)="onTouchMove($event)"
      (touchend)="onTouchEnd()"
    >
      <div
        *ngFor="let image of images; let i = index"
        class="carousel-slide"
        [class.active]="i === currentIndex"
      >
        <img [src]="image" alt="'Carousel image'" (load)="onImageLoad()" />
      </div>
    </div>

    <!-- Navigation Arrows -->
    <button
      class="carousel-nav carousel-prev"
      (click)="previousSlide()"
      [disabled]="currentIndex === 0 && !infinite"
      aria-label="Previous image"
    >
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
        <path
          d="M15 18L9 12L15 6"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
    </button>

    <button
      class="carousel-nav carousel-next"
      (click)="nextSlide()"
      [disabled]="currentIndex === images.length - 1 && !infinite"
      aria-label="Next image"
    >
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
        <path
          d="M9 18L15 12L9 6"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
    </button>

    <!-- Indicators -->
    <div class="carousel-indicators" *ngIf="showIndicators">
      <button
        *ngFor="let image of images; let i = index"
        class="carousel-indicator"
        [class.active]="i === currentIndex"
        (click)="goToSlide(i)"
        [attr.aria-label]="'Go to slide ' + (i + 1)"
      ></button>
    </div>

    <!-- Counter -->
    <div class="carousel-counter" *ngIf="showCounter">
      {{ currentIndex + 1 }}/{{ images.length }}
    </div>
  </div>
</div>
